<!DOCTYPE html><!--[if lt IE 7]>      <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="Notes and ramblings on hacking and finance">
        <meta name="viewport" content="width=device-width">
        <title>Home &mdash; Wachunga</title>
            <link rel="stylesheet" href="_static/normalize.css" type="text/css">
            <link rel="stylesheet" href="_static/sphinx.css" type="text/css">
            <link rel="stylesheet" href="_static/main.css" type="text/css">
            <link rel="stylesheet" href="_static/flat.css" type="text/css">
            <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
            <link rel="stylesheet" href="_static/webfont.css" type="text/css">
        <!-- Load modernizr and JQuery -->
        <script src="_static/vendor/modernizr-2.6.2.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="_static/vendor/jquery-1.8.2.min.js"><\/script>')</script>
        <script src="_static/plugins.js"></script>
        <script src="_static/main.js"></script>
        <link rel="next" title="Older" href="page2.html" /><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.html" /><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script><script type="text/javascript" src="_static/underscore.js"></script><script type="text/javascript" src="_static/doctools.js"></script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/javascript" src="_static/disqus.js"></script><script type="text/javascript" src="_static/google_analytics.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            // Scroll to content if on small screen
            if (screen.width < 480)
            {
                $(document).scrollTop(document.getElementsByTagName("article")[0].offsetTop - 44);
            }
        });
    </script></head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

      <div id="container"><header>
            <hgroup>
              <h1><a href="#">Wachunga</a></h1><h2>Notes and ramblings on hacking and finance</h2></hgroup>
          </header>
      <nav>
            <ul><li class="main-nav">
                  <a href="#">Home</a>
                </li>
              <li class="main-nav">
                  <a href="pages/about.html">About</a>
                </li>
              </ul>
          </nav><div class="main-container"><div class="main wrapper clearfix"><article><div class="timestamp postmeta">
            <span>June 04, 2014</span>
        </div>
        <div class="section" id="add-flippa-auction-to-calendar">
<h1><a href="2014/06/04/add_flippa_auction_to_calendar.html">Add Flippa auction to calendar</a></h1>
<p>This is a nasty hack to add a link to Flippa which will put you on the road to
adding an event to your Google Calendar at the auction end time.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">javascript</span><span class="o">:</span><span class="k">void</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#auctionstatus&quot;</span> <span class="p">).</span><span class="nx">append</span><span class="p">(</span> <span class="s2">&quot;&lt;a href='&quot;</span> <span class="o">+</span> <span class="s2">&quot;http://google.co.uk/search?q=&quot;</span> <span class="o">+</span> <span class="nb">encodeURI</span><span class="p">(</span><span class="s2">&quot;google calendar add &quot;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#auctionstatus&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">).</span><span class="nx">substr</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">19</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot;'&gt;Add to calendar&lt;/a&gt;&quot;</span><span class="p">));</span>
</pre></div>
</div>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        
        <div class="comments">
            <a href="http://wachunga.com/2014/06/04/add_flippa_auction_to_calendar.html#disqus_thread" data-disqus-identifier="2014/06/04/add_flippa_auction_to_calendar">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>March 10, 2014</span>
        </div>
        <div class="section" id="time-tracking-tool">
<h1><a href="2014/03/10/time_tracking_tool.html">Time tracking tool</a></h1>
<p>Another working methodology post, in order to remind me of which tool I used.
In order to keep track of tasks and time spent when in the commandline (where I
am most of the time) <a class="reference external" href="https://bitbucket.org/trevor/timebook/wiki/Home">TimeBook</a> is a great tool. It allows
you do:</p>
<div class="highlight-python"><div class="highlight"><pre>t in &quot;task i am working on&quot;
&lt;do some work&gt;
t out
</pre></div>
</div>
<p>Then there will be an entry in your <cite>timesheet</cite> with today’s date and the time
spent working on the task.</p>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        <div class="tags">
            <span>
                Tags:
                <a href="tags/tools.html">tools</a></span>
        </div>
        <div class="comments">
            <a href="http://wachunga.com/2014/03/10/time_tracking_tool.html#disqus_thread" data-disqus-identifier="2014/03/10/time_tracking_tool">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>March 05, 2014</span>
        </div>
        <div class="section" id="updating-my-web-design-stack">
<h1><a href="2014/03/05/updating_my_web_stack.html">Updating my web design stack</a></h1>
<p>For data intensive and service related projects I always prefer to use the
simplicity of <a class="reference external" href="http://www.tornadoweb.org/en/stable">Tornado</a>. Recently I had
occasion to consider a more classic CMS type of application. I looked at Django
a number of years ago and was largely unimpressed, probably because the need at
the time was not for a CMS platform and the design of the admin interface
seemed a bit late 90’s.</p>
<p>My opinion has changed however with the <a class="reference external" href="https://github.com/torchbox/wagtail">Wagtail</a> project from Torchbox. Very nice design
and some of the key Django apps, like South, bundled in.</p>
<p>Also, I have been impressed with the <a class="reference external" href="http://bower.io">Bower</a> project -
which provides a package manager for front end components on <a class="reference external" href="http://nodejs.org">Node</a>.</p>
<p>Anyway, to get these fancy Javascript tools working in a Python virtualenv do
the following from within a virtualenv:</p>
<div class="highlight-bash"><div class="highlight"><pre>pip install nodeenv
nodeenv --python-virtualenv  <span class="c"># activate nodeenv in the current virtualenv</span>
npm install -g bower
</pre></div>
</div>
<p>Great!</p>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        <div class="tags">
            <span>
                Tags:
                <a href="tags/tools.html">tools</a></span>
        </div>
        <div class="comments">
            <a href="http://wachunga.com/2014/03/05/updating_my_web_stack.html#disqus_thread" data-disqus-identifier="2014/03/05/updating_my_web_stack">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>February 28, 2014</span>
        </div>
        <div class="section" id="clojure-setup">
<h1><a href="2014/02/28/clojure_setup.html">Clojure setup</a></h1>
<p>I’m having lots of fun learning Clojure. There are a couple of decent ways to
be productive in Vim with Clojure, described below:</p>
<div class="section" id="vim-fireplace">
<h2>Vim-Fireplace</h2>
<p><a class="reference external" href="https://github.com/tpope/vim-fireplace">Vim-fireplace</a> connects to a Clojure
REPL instance from within Vim.</p>
<p>Some key commands:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%"/>
<col width="84%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><cite>cpp</cite></td>
<td>Execute the current form.</td>
</tr>
<tr class="row-odd"><td><cite>cpr</cite></td>
<td>Reload the current file.</td>
</tr>
<tr class="row-even"><td><cite>K</cite></td>
<td>Lookup help for command that the cursor is
under.</td>
</tr>
<tr class="row-odd"><td><cite>[d</cite></td>
<td>Lookup source that the command is under.</td>
</tr>
</tbody>
</table>
<p>It works well, but i need to figure out a way to ensure that the REPL buffer is
always open as the popping open of the buffer grows old quickly.</p>
</div>
<div class="section" id="vim-slime">
<h2>Vim-slime</h2>
<p>A solution which uses the excellent Tmux is <a class="reference external" href="https://github.com/jpalardy/vim-slime">vim-slime</a>, a nice setup is described in this
<a class="reference external" href="http://michaelalynmiller.com/blog/2013/02/27/vim-tmux-clojure">blog</a>. It
works with any REPL. In brief you open a Clojure REPL in a Tmux window and tell
Vim to send highlighted lines. It’s good as the REPL window remains open
showing the command execution history.</p>
<p>Some key commands:</p>
<table border="1" class="docutils">
<colgroup>
<col width="44%"/>
<col width="56%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><cite>C-c, C-c</cite></td>
<td>Send line to Tmux window with REPL.</td>
</tr>
<tr class="row-odd"><td><cite>&lt;highlight lines&gt; C-c, C-c</cite></td>
<td>Send line to Tmux window with REPL.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="conclusion">
<h2>Conclusion</h2>
<p>A combination of both of the above works really well. I use Vim-Fireplace in
order to get contextual help and Vim-slime to execute code. Once i figure out
how to have a consistent buffer open in vim-fireplace then i guess i’ll ditch
vim-slime.</p>
</div>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        <div class="tags">
            <span>
                Tags:
                <a href="tags/toosl.html">toosl</a>, <a href="tags/clojure.html">clojure</a></span>
        </div>
        <div class="comments">
            <a href="http://wachunga.com/2014/02/28/clojure_setup.html#disqus_thread" data-disqus-identifier="2014/02/28/clojure_setup">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>February 20, 2014</span>
        </div>
        <div class="section" id="nowcast-this">
<h1><a href="2014/02/20/nowcast_this.html">Nowcast this</a></h1>
<p>Nowcasting is a technique which has recently gained popularity in economics.
Essentially low frequency economic variables are foretasted by a series of
higher frequency variables in state space. The canonical example is that of
predicting GDP figures (low frequency of data release) from higher frequency
variables such as jobless figures, industrial orders and trade balance.</p>
<p>Such a model can be written as a system of two equations:</p>
<ul>
<li><p class="first">measurement equations linking observed series to latent variable (or state
process)</p>
<blockquote>
<div><div class="math">
\[Y_t^{K_Y} = \mu + \zeta(\Theta)X_t + G_t\]</div>
</div></blockquote>
</li>
<li><p class="first">transistion equations describing the state process dynamics</p>
<blockquote>
<div><div class="math">
\[X_t = \phi(\Theta)X_{t-1} + H_t\]</div>
</div></blockquote>
</li>
</ul>
<p>where in the above equations <span class="math">\(Y_t^{K_Y}\)</span> is the vector of observed
variables and <span class="math">\(X_t\)</span> is the unobserved state variables, the dynamics of
which are explained by the transition equation.</p>
<p><span class="math">\(G_t\)</span> and <span class="math">\(H_t\)</span> represent covariance matrices of the disturbances
and <span class="math">\(\phi(\Theta)\)</span> and <span class="math">\(\zeta(\Theta)\)</span> represent matrices of the
coefficients. The covariance matrices are determined from an iterative
Expectation-Maiximisation algorithm.</p>
<p>As the model is in state-space we can now gain projections for both the
observed and the predicted variables using the Kalman filter, as well as
allowing us to have missing variables in our series.</p>
<p>It’s an interesting approach as the forecast for the low-frequency variable
gets progressively more accurate as more data is released as we move closer to
the announcement date. This means that there is a <cite>news</cite> component or
“unexpected” component which we obtain from the model as the long-term (or
indeed short-term) variables have their forecast updated, which is could be a
useful signal.</p>
<p>A <a class="reference external" href="http://www.ecb.europa.eu/pub/pdf/scpwps/ecbwp1564.pdf">paper</a> by Marta Bańbura, Domenico Giannone, Michele Modugno and Lucrezia
Reichlin reviewing the approaches can be found on the ECB website.</p>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        <div class="tags">
            <span>
                Tags:
                <a href="tags/research.html">research</a></span>
        </div>
        <div class="comments">
            <a href="http://wachunga.com/2014/02/20/nowcast_this.html#disqus_thread" data-disqus-identifier="2014/02/20/nowcast_this">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>February 18, 2014</span>
        </div>
        <div class="section" id="hal-r-varian">
<h1><a href="2014/02/18/hal_r_varian.html">Hal R. Varian</a></h1>
<p>In my quest to keep upto date with the big ideas in econometrics and finance I
happened upon Hal R. Varian. Hal is both a professor at UC Berkley and also
Chief Economist at Google, a couple of impressive positions held simultaneously
positions held simultaneously.</p>
<p>There is a trove of Hal’s essays and papers available <a class="reference external" href="http://people.ischool.berkeley.edu/~hal/people/hal/papers.html">here</a>, I
particularly enjoyed his <a class="reference external" href="http://people.ischool.berkeley.edu/~hal/Papers/2013/BeyondBigDataPaperFINAL.pdf">comment on big data in economics</a>
which essentially espouses economists to not only analyse the electronic data
that pretty much any firm is amassing but also to perform experiments within
the bounds of the collection system, giving rise to similar advances as have
been gained from similar methods applied to e-marketing (see <a class="reference external" href="http://www.kalzumeus.com/greatest-hits">Patrick McKenzie’s
essays</a> for more).</p>
<p>Another paper of note was <a class="reference external" href="http://people.ischool.berkeley.edu/~hal/Papers/2013/pred-present-with-bsts.pdf">Predicting the Present with Bayesian Strucural Time
Series</a>
(or see the <a class="reference external" href="http://people.ischool.berkeley.edu/~hal/Papers/2012/fat-talk.pdf">slides</a> for an
abbreviated view) in which is described a system for economic nowcasting using
a system where terms correlated to an economic variable e.g. claims for
unemployment, are discovered with Google Correlate and then Google Trends
data for those terms is analysed and ranked in terms of predictability using a
Markov chain Monte Carlo (MCMC) algorithm - interesting!</p>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        <div class="tags">
            <span>
                Tags:
                <a href="tags/people.html">people</a></span>
        </div>
        <div class="comments">
            <a href="http://wachunga.com/2014/02/18/hal_r_varian.html#disqus_thread" data-disqus-identifier="2014/02/18/hal_r_varian">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>February 06, 2014</span>
        </div>
        <div class="section" id="beige-book-sentiment">
<h1><a href="2014/02/06/beige_book_sentiment.html">Beige Book Sentiment</a></h1>
<div class="figure align-center">
<img alt="../../../_images/beige_book_word_cloud.png" src="_images/beige_book_word_cloud.png"/>
<p class="caption">Word cloud showing relative frequencies of words in all Beige Books since
1970</p>
</div>
<div class="section" id="why">
<h2>Why?</h2>
<p>Behavioural finance has provided proof that financial decisions are
significantly driven by emotion and mood [1].</p>
<p>Therefore if we can gauge the mood of policy makers, perhaps we can gauge
policy decision.</p>
<p>Rochester Cahan, VP of Global Equity Quantitative Strategy at Deutsche Bank,
states that the sentiment scores of Thomson Reuters (powered by Lexalytics) are
uncorrelated with traditional quantitative signals [2].</p>
</div>
<div class="section" id="commercial-products-and-funds">
<h2>Commercial Products and Funds</h2>
<p>There are a number of commercial products and funds already providing or
exploiting sentiment based signals.</p>
<p>Thompson Reuters recently acquired <a class="reference external" href="http://www.lexalytics.com">Lexalytics</a>
who provide sentiment indicators in machine readable format. Global sentiment
indicators are also provided by <a class="reference external" href="https://ww.marketpsych.com">MarketPsych</a>, a
spin off company from the now closed MarketPsych Captial fund setup by <a class="reference external" href="http://www.richard.peterson.net">Richard
Peterson MD</a> who reported a 28% return from
Sept. 2, 2008, through Dec. 31, 2010 while the S&amp;P 500 lost 1.6 percent over
the same period.</p>
<p>Cayman Atlantic, aka the “Twitter Hedge Fund” is probably the most high profile
use case of sentiment analysis. Founded by Paul Hawtin in 2013 the fund works
closely with the team behind the paper <a class="reference external" href="http://arxiv.org/pdf/1010.3003&amp;">Twitter Mood Predicts the Stock Market
(pre-print)</a> [3] in order to gauge the
entire Twitter verse in terms of 6 different moods: calm, alert, sure, vital,
kind, happy. They found that predominately only the calm mood was Granger
causative with DJIA.</p>
</div>
<div class="section" id="sentiment-from-the-beige-book">
<h2>Sentiment from the Beige Book</h2>
<ul class="simple">
<li>Beige Book content downloaded pro programmatically since 1970.</li>
<li>Text cleaned and put into common format.</li>
</ul>
<a class="reference internal image-reference" href="_images/beige_book_words.png"><img alt="../../../_images/beige_book_words.png" src="_images/beige_book_words.png" style="width: 600px;"/></a>
<ul>
<li><dl class="first docutils">
<dt>Text analysed with Pythons NLTK for sentiment using two dictionaries:</dt>
<dd><ul class="first last simple">
<li>Harvard IV-4</li>
<li>Loughran and McDonald Financial Sentiment</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p><strong>Polarity</strong> (P) is defined as:</p>
<div class="math">
\[P = \frac{N_{pos}-N_{neg}}{N_{pos}+N_{neg}}\]</div>
<p><strong>Subjectivity</strong> (S) is defined as:</p>
<div class="math">
\[S = \frac{N_{pos}+N_{neg}}{N}\]</div>
<p>With the Beige Book data set we get the following:</p>
<a class="reference internal image-reference" href="_images/beige_book_subjectivity.png"><img alt="../../../_images/beige_book_subjectivity.png" src="_images/beige_book_subjectivity.png" style="width: 600px;"/></a>
<a class="reference internal image-reference" href="_images/beige_book_polarity.png"><img alt="../../../_images/beige_book_polarity.png" src="_images/beige_book_polarity.png" style="width: 600px;"/></a>
<p>From the above we can see the differences in the two dictionaries used to
evaluate Sentiment. The Harvard IV-4 dictionary has no concept of financial
lexicon whereas the Loughran and McDonald Financial Sentiment is calibrated
from 10-K file date returns, post-file date returns, return volatility,
allegations of accounting fraud, and company material weakness disclosures, and
as such is more evenly weighted around 0 for Polarity.</p>
<p>Comparing the Loughran and McDonald Financial Sentiment with T-Bill discount
rates gives the following:</p>
<a class="reference internal image-reference" href="_images/beige_book_sentiment_tbill.png"><img alt="../../../_images/beige_book_sentiment_tbill.png" src="_images/beige_book_sentiment_tbill.png" style="width: 600px;"/></a>
<p>By inspection of the above it appears there is some causality/correlation
between sentiment of the Beige Book and the T-bill discount rate. Soon i will
publish statistical analysis of this causality (Granger or otherwise).</p>
<p>For more info. on this experiment please get in touch, <a class="reference external" href="mailto:chris.j.morgan%40gmail.com">chris<span>.</span>j<span>.</span>morgan<span>@</span>gmail<span>.</span>com</a>.</p>
</div>
<div class="section" id="references">
<h2>References</h2>
<p>[1] J.R. Nofsinger, Social mood and financial economics, Journal of Behaviour
Finance 6 (3) (2005) 144–160.</p>
<p>[2] <a class="reference external" href="http://strata.oreilly.com/2011/05/sentiment-analysis-finance.html">http://strata.oreilly.com/2011/05/sentiment-analysis-finance.html</a></p>
<p>[3] Johan Bollen, Huina Mao, Xiao-Jun Zeng: Twitter mood predicts the stock market.
J. Comput. Science 2(1): 1-8 (2011)</p>
</div>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        <div class="tags">
            <span>
                Tags:
                <a href="tags/finance.html">finance</a>, <a href="tags/research.html">research</a></span>
        </div>
        <div class="comments">
            <a href="http://wachunga.com/2014/02/06/beige_book_sentiment.html#disqus_thread" data-disqus-identifier="2014/02/06/beige_book_sentiment">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>January 13, 2014</span>
        </div>
        <div class="section" id="remember-vim-folding">
<h1><a href="2014/01/13/remember_vim_folding.html">Remember Vim folding</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="11%"/>
<col width="89%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key</th>
<th class="head">Operation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>zO</td>
<td>Open all folds recursivley</td>
</tr>
<tr class="row-odd"><td>zo</td>
<td>Open one fold</td>
</tr>
<tr class="row-even"><td>zc</td>
<td>Close one fold</td>
</tr>
<tr class="row-odd"><td>zC</td>
<td>Close all folds recursivley</td>
</tr>
<tr class="row-even"><td>za</td>
<td>Toggle fold</td>
</tr>
<tr class="row-odd"><td>zA</td>
<td>Toggle fold recursivley</td>
</tr>
<tr class="row-even"><td>zR</td>
<td>Open all folds</td>
</tr>
<tr class="row-odd"><td>zM</td>
<td>Close all folds</td>
</tr>
</tbody>
</table>
<p>Then i set the following in .vimrc:</p>
<div class="highlight-python"><div class="highlight"><pre>&quot; folding
&quot; toggle open fold
nnoremap f zA
&quot; open all
nnoremap F zR
&quot; clos all
nnoremap &lt;C-f&gt; zM
</pre></div>
</div>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        
        <div class="comments">
            <a href="http://wachunga.com/2014/01/13/remember_vim_folding.html#disqus_thread" data-disqus-identifier="2014/01/13/remember_vim_folding">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>January 05, 2014</span>
        </div>
        <div class="section" id="being-even-more-productive-with-ipython-notebooks">
<h1><a href="2014/01/05/being_productive_with_ipython_notebooks.html">Being even more productive with IPython notebooks</a></h1>
<p>IPython notebooks are an awesome tool for exploring data. Currently there are a
few issues with the software which the community are working through.</p>
<div class="section" id="slides">
<h2>Slides</h2>
<p>Particularly useful is the ability to be able to create slides from your
notebooks using reveal.js:</p>
<div class="highlight-bash"><div class="highlight"><pre>python3 nbconvert --to slides BeigeBook.ipynb --post serve
</pre></div>
</div>
<p>But we need to follow these steps in order for the formatting to work
correctly:</p>
<ol class="arabic simple">
<li>Add this custom.css file: <a class="reference external" href="https://gist.github.com/damianavila/6211198">https://gist.github.com/damianavila/6211198</a></li>
<li>Run this little snippet: <a class="reference external" href="https://gist.github.com/damianavila/6211211">https://gist.github.com/damianavila/6211211</a></li>
<li>Add ?print.pdf to the end of the url</li>
<li>Print to pdf, use Landscape orientation</li>
</ol>
</div>
<div class="section" id="git">
<h2>Git</h2>
<p>The JSON format of IPython notebooks is great, however there is no need to save Base64 encoded binary data in Git. We can strip out the binary blobs with Git filters.  Add the following somewhere on your path: <a class="reference external" href="https://github.com/cfriedline/ipynb_template/blob/master/nbstripout">https://github.com/cfriedline/ipynb_template/blob/master/nbstripout</a>, then add the following in <span class="docutils literal"><span class="pre">.git/config</span></span>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>filter <span class="s2">&quot;stripoutput&quot;</span><span class="o">]</span>
    <span class="nv">clean</span> <span class="o">=</span> <span class="s2">&quot;/path/to/nbstripout&quot;</span>
</pre></div>
</div>
<p>And a <span class="docutils literal"><span class="pre">.gitattributes</span></span> file in your project root with the following contents:</p>
<div class="highlight-bash"><div class="highlight"><pre>*.ipynb <span class="nv">filter</span><span class="o">=</span>stripoutput
</pre></div>
</div>
<p>You will not notice any changes to your local <span class="docutils literal"><span class="pre">.ipynb</span></span> file when you commit (as the content is being filtered, not replaced as a pre-commit hook would do). Once committed, delete the file and checkout again and you will see a <span class="docutils literal"><span class="pre">.ipynb</span></span> file sans output. Also the numbering of cells will start continuously from 1 - great!</p>
</div>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        <div class="tags">
            <span>
                Tags:
                <a href="tags/tools.html">tools</a>, <a href="tags/python.html">python</a></span>
        </div>
        <div class="comments">
            <a href="http://wachunga.com/2014/01/05/being_productive_with_ipython_notebooks.html#disqus_thread" data-disqus-identifier="2014/01/05/being_productive_with_ipython_notebooks">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>January 03, 2014</span>
        </div>
        <div class="section" id="setting-up-matlab-contexts">
<h1><a href="2014/01/03/setup_matlab.html">Setting up MATLAB contexts</a></h1>
<p>If you are forced to use MATLAB (here’s a whole blog devoted to the topic of
why not to use it <a class="reference external" href="http://abandonmatlab.wordpress.com">http://abandonmatlab.wordpress.com/</a>) the following advice
maybe useful for easily managing your path and hence creating contexts of work.</p>
<p>In cases where Administrator privileges are not held, the following config. is
flexible.</p>
<p>Define MATLAB’s <span class="docutils literal"><span class="pre">userpath</span></span> to be a user writeable directory. This is the initial
directory MATLAB will parse.</p>
<p>Within the <span class="docutils literal"><span class="pre">userpath</span></span> create <span class="docutils literal"><span class="pre">startup.m</span></span>:</p>
<div class="highlight-matlab"><div class="highlight"><pre><span class="k">if</span> <span class="o">~</span><span class="n">isdeployed</span>
    <span class="n">path</span><span class="p">(</span><span class="n">my_path</span><span class="p">)</span>
    <span class="n">set_vars</span>
</pre></div>
</div>
<p>Where <span class="docutils literal"><span class="pre">my_path</span></span> is a matlab file which sets the path like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">function</span> <span class="n">p</span> <span class="o">=</span> <span class="n">my_path</span>
     <span class="n">p</span> <span class="o">=</span> <span class="p">[</span><span class="s">'/home/chris/matlab;'</span><span class="p">,</span> <span class="s">'/home/chris/important;'</span><span class="p">];</span>
     <span class="n">cd</span><span class="p">(</span><span class="s">'/home/chris/matlab'</span><span class="p">);</span>
<span class="n">end</span>
</pre></div>
</div>
<p>So we set the path and cd to a relevant directory. Also in the userpath folder,
one can keep many files like <span class="docutils literal"><span class="pre">my_path.m</span></span>, which define different contexts to
work in, making changing contexts as easy as:</p>
<div class="highlight-matlab"><div class="highlight"><pre><span class="n">path</span><span class="p">(</span><span class="n">my_other_path</span><span class="p">)</span>
</pre></div>
</div>
<p>Whithin each context <span class="docutils literal"><span class="pre">path</span></span> file if you also call the <span class="docutils literal"><span class="pre">set_vars</span></span> script,
this allows <span class="docutils literal"><span class="pre">set_vars</span></span> to contain useful variables e.g. paths to output
directories and the like.</p>
</div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Chris Morgan</span>
        </div>
        
        <div class="tags">
            <span>
                Tags:
                <a href="tags/matlab.html">matlab</a>, <a href="tags/tools.html">tools</a></span>
        </div>
        <div class="comments">
            <a href="http://wachunga.com/2014/01/03/setup_matlab.html#disqus_thread" data-disqus-identifier="2014/01/03/setup_matlab">Leave a comment</a>
        </div></div><div class="archive_link">
        <a href="archive.html"> &mdash; Blog Archive &mdash; </a>
    </div><ul class="related clearfix">
            <li class="left"></li>
            <li class="right"><a href="page2.html">Older</a> &raquo; </li>
        </ul></article><aside class="sidebar"><section><div class="widget">
    <h1>Recent Posts</h1>
    <ul><li>
            <a href="2014/06/04/add_flippa_auction_to_calendar.html">Add Flippa auction to calendar</a>
        </li><li>
            <a href="2014/03/10/time_tracking_tool.html">Time tracking tool</a>
        </li><li>
            <a href="2014/03/05/updating_my_web_stack.html">Updating my web design stack</a>
        </li><li>
            <a href="2014/02/28/clojure_setup.html">Clojure setup</a>
        </li><li>
            <a href="2014/02/20/nowcast_this.html">Nowcast this</a>
        </li><li>
            <a href="2014/02/18/hal_r_varian.html">Hal R. Varian</a>
        </li><li>
            <a href="2014/02/06/beige_book_sentiment.html">Beige Book Sentiment</a>
        </li><li>
            <a href="2014/01/13/remember_vim_folding.html">Remember Vim folding</a>
        </li><li>
            <a href="2014/01/05/being_productive_with_ipython_notebooks.html">Being even more productive with IPython notebooks</a>
        </li><li>
            <a href="2014/01/03/setup_matlab.html">Setting up MATLAB contexts</a>
        </li></ul>
</div>
</section></aside></div> <!-- #main --></div> <!-- #main-container -->

        <div class="footer-container"><footer class="wrapper">&copy; Copyright 2014, Chris Morgan. Powered by <a href="http://www.tinkerer.me/">Tinkerer</a> and <a href="http://sphinx.pocoo.org/">Sphinx</a>.</footer></div> <!-- footer-container -->

      </div> <!--! end of #container --><script type="text/javascript">    var disqus_shortname = "Wachunga";    disqus_count();</script><!--[if lt IE 7 ]>
          <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
          <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
        <![endif]-->
    </body>
</html>